<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Structure of CytoTree | CytoTree Tutorial</title>
  <meta name="description" content="This is the tutorial of CytoTree R/Biocondcutor package." />
  <meta name="generator" content="bookdown 0.21.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Structure of CytoTree | CytoTree Tutorial" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the tutorial of CytoTree R/Biocondcutor package." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Structure of CytoTree | CytoTree Tutorial" />
  
  <meta name="twitter:description" content="This is the tutorial of CytoTree R/Biocondcutor package." />
  

<meta name="author" content="Yuting Dai" />


<meta name="date" content="2020-10-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="advanced-usage.html"/>
<link rel="next" href="about-cytotree.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://github.com/JhuangLab/CytoTree"><center><b>CytoTree</b></center></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="quick-start.html"><a href="quick-start.html"><i class="fa fa-check"></i><b>2</b> Quick Start</a>
<ul>
<li class="chapter" data-level="2.1" data-path="quick-start.html"><a href="quick-start.html#overview-of-workflow"><i class="fa fa-check"></i><b>2.1</b> Overview of Workflow</a></li>
<li class="chapter" data-level="2.2" data-path="quick-start.html"><a href="quick-start.html#installation"><i class="fa fa-check"></i><b>2.2</b> Installation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="quick-start.html"><a href="quick-start.html#github"><i class="fa fa-check"></i><b>2.2.1</b> GitHub</a></li>
<li class="chapter" data-level="2.2.2" data-path="quick-start.html"><a href="quick-start.html#bioconductor"><i class="fa fa-check"></i><b>2.2.2</b> Bioconductor</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="quick-start.html"><a href="quick-start.html#quick-start-code"><i class="fa fa-check"></i><b>2.3</b> Quick-start code</a></li>
<li class="chapter" data-level="2.4" data-path="quick-start.html"><a href="quick-start.html#visualization"><i class="fa fa-check"></i><b>2.4</b> Visualization</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ti.html"><a href="ti.html"><i class="fa fa-check"></i><b>3</b> Trajectory Inference (TI)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ti.html"><a href="ti.html#preprocessing"><i class="fa fa-check"></i><b>3.1</b> Preprocessing</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="ti.html"><a href="ti.html#preprocessing-using-flowcore"><i class="fa fa-check"></i><b>3.1.1</b> Preprocessing using <code>flowCore</code></a></li>
<li class="chapter" data-level="3.1.2" data-path="ti.html"><a href="ti.html#preprocessing-using-cytotree"><i class="fa fa-check"></i><b>3.1.2</b> Preprocessing using <code>CytoTree</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ti.html"><a href="ti.html#clustering"><i class="fa fa-check"></i><b>3.2</b> Clustering</a></li>
<li class="chapter" data-level="3.3" data-path="ti.html"><a href="ti.html#dimenssionality-reduction"><i class="fa fa-check"></i><b>3.3</b> Dimenssionality Reduction</a></li>
<li class="chapter" data-level="3.4" data-path="ti.html"><a href="ti.html#build-trajectory"><i class="fa fa-check"></i><b>3.4</b> Build Trajectory</a></li>
<li class="chapter" data-level="3.5" data-path="ti.html"><a href="ti.html#optimazation"><i class="fa fa-check"></i><b>3.5</b> Optimazation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="analysis.html"><a href="analysis.html"><i class="fa fa-check"></i><b>4</b> Analysis of TI</a>
<ul>
<li class="chapter" data-level="4.1" data-path="analysis.html"><a href="analysis.html#pseudotime"><i class="fa fa-check"></i><b>4.1</b> Pseudotime</a></li>
<li class="chapter" data-level="4.2" data-path="analysis.html"><a href="analysis.html#intermediate-states"><i class="fa fa-check"></i><b>4.2</b> Intermediate States</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="time-course-data-use-case.html"><a href="time-course-data-use-case.html"><i class="fa fa-check"></i><b>5</b> Time-course data use case</a>
<ul>
<li class="chapter" data-level="5.1" data-path="time-course-data-use-case.html"><a href="time-course-data-use-case.html#step-1.-preprocessing"><i class="fa fa-check"></i><b>5.1</b> Step 1. Preprocessing</a></li>
<li class="chapter" data-level="5.2" data-path="time-course-data-use-case.html"><a href="time-course-data-use-case.html#step-2.-trajectory"><i class="fa fa-check"></i><b>5.2</b> Step 2. Trajectory</a></li>
<li class="chapter" data-level="5.3" data-path="time-course-data-use-case.html"><a href="time-course-data-use-case.html#step-3.-pseudotime"><i class="fa fa-check"></i><b>5.3</b> Step 3. Pseudotime</a></li>
<li class="chapter" data-level="5.4" data-path="time-course-data-use-case.html"><a href="time-course-data-use-case.html#step-4.-subset-cyt"><i class="fa fa-check"></i><b>5.4</b> Step 4. Subset CYT</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="advanced-usage.html"><a href="advanced-usage.html"><i class="fa fa-check"></i><b>6</b> Advanced Usage</a></li>
<li class="chapter" data-level="7" data-path="structure-of-cytotree.html"><a href="structure-of-cytotree.html"><i class="fa fa-check"></i><b>7</b> Structure of CytoTree</a></li>
<li class="chapter" data-level="8" data-path="about-cytotree.html"><a href="about-cytotree.html"><i class="fa fa-check"></i><b>8</b> About CytoTree</a>
<ul>
<li class="chapter" data-level="" data-path="about-cytotree.html"><a href="about-cytotree.html#bug-reports"><i class="fa fa-check"></i>Bug Reports</a></li>
<li class="chapter" data-level="" data-path="about-cytotree.html"><a href="about-cytotree.html#current-version"><i class="fa fa-check"></i>Current version</a></li>
<li class="chapter" data-level="" data-path="about-cytotree.html"><a href="about-cytotree.html#acknowledgement"><i class="fa fa-check"></i>Acknowledgement</a></li>
<li class="chapter" data-level="" data-path="about-cytotree.html"><a href="about-cytotree.html#session-information"><i class="fa fa-check"></i>Session Information</a></li>
<li class="chapter" data-level="" data-path="about-cytotree.html"><a href="about-cytotree.html#reference"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About The Author</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CytoTree Tutorial</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="structure-of-cytotree" class="section level1" number="7">
<h1><span class="header-section-number">Chapter 7</span> Structure of CytoTree</h1>
<p>The CYT object is according to the R S4 object. The <code>raw.data</code> which consists of the imput matrix data information is required to build the CYT object. When running the <code>CytoTree::createCYT</code> function, <code>log.data</code> in the CYT object is the log-transformed matrix and is filtered according to the markers included in <code>raw.data</code>. The <code>log.data</code> is essential for the next workflow. The slots som and cluster contain clustering information and parameter of clustering module, whereas <code>pca.sdev</code>, <code>pca.value</code>, <code>pca.score</code>, <code>tsne.value</code>, <code>dm</code>, <code>umap.value</code> store the running parameters and results of dimensionality reduction module. The network built by MST is stored in network slots. The root cells and leaf cells are stored in the slots <code>root.cells</code> and <code>leaf.cells</code> and are essential for pseudotime estimation and trajectory inference. The slots <code>knn</code>, <code>knn.index</code> and <code>knn.distance</code> contain the KNN information calculated by the R <code>BiocNeighbors</code> package. And the slots walk and <code>diff.tree</code> contains the intermediate calculation results in the pseudotime and trajectory analysis. The meta-information for cells and clusters are stored in the slots plot.meta and tree.meta, which can be fetched by <code>CytoTree::fetchPlotMeta</code> and <code>CytoTree::fetchClustMeta</code>, respectively. All slots are constrained based on the standardized data type in R.</p>
<table>
<caption><span id="tab:nice-tab">Table 7.1: </span>Structure of CYT object</caption>
<colgroup>
<col width="18%" />
<col width="9%" />
<col width="64%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Slot</th>
<th align="left">Description</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Basic</td>
<td align="left">raw.data</td>
<td align="left">Raw signal data captured from FCS</td>
<td align="left">matrix</td>
</tr>
<tr class="even">
<td align="left">Basic</td>
<td align="left">log.data</td>
<td align="left">Data enrolled in the computational modules</td>
<td align="left">matrix</td>
</tr>
<tr class="odd">
<td align="left">Basic</td>
<td align="left">meta.data</td>
<td align="left">Meta data information of the experiment, and columns of “stage” and “cell” are required</td>
<td align="left">data.frame</td>
</tr>
<tr class="even">
<td align="left">Basic</td>
<td align="left">markers</td>
<td align="left">Markers used in the calculation of PCA, tSNE, diffusion map and UMAP.</td>
<td align="left">vector</td>
</tr>
<tr class="odd">
<td align="left">Basic</td>
<td align="left">markers.idx</td>
<td align="left">Index of markers</td>
<td align="left">vector</td>
</tr>
<tr class="even">
<td align="left">Basic</td>
<td align="left">cell.name</td>
<td align="left">Cell names after downsampling</td>
<td align="left">vector</td>
</tr>
<tr class="odd">
<td align="left">Clustering</td>
<td align="left">som</td>
<td align="left">Store som network information calculated using FlowSOM</td>
<td align="left">list</td>
</tr>
<tr class="even">
<td align="left">Clustering</td>
<td align="left">cluster</td>
<td align="left">Store clustering information after processing cell clusters</td>
<td align="left">data.frame</td>
</tr>
<tr class="odd">
<td align="left">Dimensionality Reduction</td>
<td align="left">pca.sdev</td>
<td align="left">Storing PCA information</td>
<td align="left">vector</td>
</tr>
<tr class="even">
<td align="left">Dimensionality Reduction</td>
<td align="left">pca.value</td>
<td align="left">Storing PCA information</td>
<td align="left">matrix</td>
</tr>
<tr class="odd">
<td align="left">Dimensionality Reduction</td>
<td align="left">pca.scores</td>
<td align="left">Storing PCA information</td>
<td align="left">matrix</td>
</tr>
<tr class="even">
<td align="left">Dimensionality Reduction</td>
<td align="left">tsne.value</td>
<td align="left">Storing tSNE information</td>
<td align="left">matrix</td>
</tr>
<tr class="odd">
<td align="left">Dimensionality Reduction</td>
<td align="left">dm</td>
<td align="left">Storing diffusion maps information</td>
<td align="left">S4 object</td>
</tr>
<tr class="even">
<td align="left">Dimensionality Reduction</td>
<td align="left">umap.value</td>
<td align="left">Storing UMAP information</td>
<td align="left">matrix</td>
</tr>
<tr class="odd">
<td align="left">Pseudotime</td>
<td align="left">root.cells</td>
<td align="left">Root cells</td>
<td align="left">vector</td>
</tr>
<tr class="even">
<td align="left">Pseudotime</td>
<td align="left">leaf.cells</td>
<td align="left">Leaf cells</td>
<td align="left">vector</td>
</tr>
<tr class="odd">
<td align="left">Pseudotime</td>
<td align="left">network</td>
<td align="left">Minimum spanning tree information</td>
<td align="left">list</td>
</tr>
<tr class="even">
<td align="left">Pseudotime</td>
<td align="left">knn</td>
<td align="left">Numbers of nearest neighbors</td>
<td align="left">numeric</td>
</tr>
<tr class="odd">
<td align="left">Pseudotime</td>
<td align="left">knn.index</td>
<td align="left">Matrix corresponds to a point in log.data and contains the row indices in log.data</td>
<td align="left">matrix</td>
</tr>
<tr class="even">
<td align="left">Pseudotime</td>
<td align="left">knn.distance</td>
<td align="left">Contains the distance of nearest neighbors of each cell</td>
<td align="left">matrix</td>
</tr>
<tr class="odd">
<td align="left">Intermediate state</td>
<td align="left">walk</td>
<td align="left">Walk parameters between leaf cells and root cells</td>
<td align="left">list</td>
</tr>
<tr class="even">
<td align="left">Intermediate state</td>
<td align="left">diff.tree</td>
<td align="left">Storing walking information</td>
<td align="left">list</td>
</tr>
<tr class="odd">
<td align="left">Meta information</td>
<td align="left">plot.meta</td>
<td align="left">Meta information for single cells in visualization</td>
<td align="left">data.frame</td>
</tr>
<tr class="even">
<td align="left">Meta information</td>
<td align="left">tree.meta</td>
<td align="left">Meta information for clusters in visualization</td>
<td align="left">list</td>
</tr>
</tbody>
</table>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="advanced-usage.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="about-cytotree.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
